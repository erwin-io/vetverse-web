<mat-progress-bar mode="query" *ngIf="isProcessing"></mat-progress-bar>
<h4 mat-dialog-title>Add service type</h4>

<div mat-dialog-content>
  <div fxFlex="100" fxLayout="column" fxLayout="column">
    <form [formGroup]="serviceTypeForm" (ngSubmit)="onSubmit()" fxLayout="column" id="serviceTypeForm" fxLayoutAlign="center" >
      <fieldset fxFlex="100" fxLayout="column" [disabled]="isProcessing">
        <mat-checkbox fxFlex="100" formControlName="isMedicalServiceType">Medical type of service</mat-checkbox>
        <mat-form-field appearance="outline">
          <mat-label>Name</mat-label>
          <input
            matInput
            placeholder="Name"
            formControlName="name">
            <mat-error *ngIf="getError('name') !== (null || undefined)">{{
              (getError('name') && getError('name').required ? 'Please enter service type name' : '')
            }}</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline" fxFlex="100" class="cell" [ngClass.gt-sm]="{'isLargeScreen': true}">
          <mat-label>Description</mat-label>
          <textarea
            matInput
            placeholder="Description"
            formControlName="description">
          </textarea>
        </mat-form-field>
        <div fxFlex="100" class="cell" fxLayout="row" style="column-gap: 10px">
          <mat-form-field appearance="outline" fxFlex="50%" class="cell">
            <mat-label>Rate</mat-label>
            <input
              matInput
              type="number"
              placeholder="Rate"
              formControlName="price">
              <mat-error *ngIf="getError('price') !== (null || undefined)">{{
                (getError('price') && getError('price').required ? 'Please enter rate' : '')
              }}</mat-error>
          </mat-form-field>
          <mat-form-field appearance="outline" fxFlex="50%" class="cell">
            <mat-label>Duration in hours</mat-label>
            <input
              matInput
              type="number"
              placeholder="Duration in hours"
              formControlName="durationInHours">
              <mat-error *ngIf="getError('durationInHours') !== (null || undefined)">{{
                (getError('durationInHours') && getError('durationInHours').required ? 'Please enter duration' : '')
              }}</mat-error>
          </mat-form-field>
        </div>
      </fieldset>
    </form>
  </div>
</div>

<div mat-dialog-actions>
  <div>
    <button
      mat-flat-button
      [disabled]="isProcessing"
      cdkFocusInitial
      (click)="onDismiss()"
    >
      Cancel
    </button>
    <button
      mat-flat-button
      [disabled]="isProcessing || !serviceTypeForm.valid"
      color="primary"
      form="serviceTypeForm"
      type="submit"
    >
      Save
    </button>
  </div>
</div>
