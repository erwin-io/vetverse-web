<mat-progress-bar mode="query" *ngIf="isLoading"></mat-progress-bar>
<h4 mat-dialog-title>Diagnosi and treatment</h4>

<div mat-dialog-content>
  <div fxFlex="100" fxLayout="column" fxLayout="column">
    <form [formGroup]="diagnosisAndTreatmentForm" (ngSubmit)="onSubmit()" fxLayout="column" id="petForm" fxLayoutAlign="center" >
      <fieldset fxFlex="100" fxLayout="column" [disabled]="isLoading">

        <mat-form-field appearance="outline">
          <mat-label>Diagnosis and treatment</mat-label>
          <textarea
            matInput
            placeholder="Diagnosis and treatment"
            formControlName="diagnosisAndTreatment">
          </textarea><mat-error *ngIf="getError('diagnosisAndTreatment') !== (null || undefined)">{{
              (getError('diagnosisAndTreatment') && getError('diagnosisAndTreatment').required ? 'This field is required!' : '')
            }}</mat-error>
        </mat-form-field>
      </fieldset>
    </form>
  </div>
</div>

<div mat-dialog-actions>
  <div>
    <button
      mat-flat-button
      [disabled]="isProcessing || isLoading"
      cdkFocusInitial
      (click)="onDismiss()"
    >
      Cancel
    </button>
    <button
      mat-flat-button
      [disabled]="isLoading || isProcessing || !diagnosisAndTreatmentForm.valid"
      color="primary"
      form="petForm"
      type="submit"
    >
      Save
    </button>
  </div>
</div>
